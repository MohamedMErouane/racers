<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>racers.fun - Waifu Racing Battles</title>
    <link rel="icon" type="image/png" href="images/ui/favicon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Animated Background -->
    <div id="animatedBg"></div>
    <div class="particles" id="particles"></div>

    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Summoning Waifus...</div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <h1>racers.fun</h1>
        </div>
        <div class="wallet-controls">
            <button class="wallet-btn" id="walletBtn">Connect</button>
            <div class="wallet-actions" id="walletActions" style="display: none;">
                <button class="deposit-btn" id="depositBtn">Deposit</button>
                <button class="withdraw-btn" id="withdrawBtn">Withdraw</button>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Chat Panel -->
        <div class="chat-panel" id="chatPanel">
            <div class="chat-collapse-btn" id="chatCollapseBtn">
                <div class="notification-badge" id="notificationBadge">3</div>
                <span class="collapse-icon">‚óÄ</span>
            </div>
            <div class="chat-header">
                <div class="online-indicator">
                    <div class="online-dot"></div>
                    <span>Online: <span id="onlineCount">1337</span></span>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages"></div>
            <div class="chat-input-container">
                <input type="text" id="chatInput" placeholder="Connect wallet to chat..." disabled style="width: 100%; padding: 10px 12px; background: rgba(30, 30, 40, 0.9); border: 1px solid rgba(147, 51, 234, 0.5); border-radius: 8px; color: white; font-size: 14px; outline: none; transition: all 0.2s ease;">
            </div>
            <div class="chat-rules" id="chatRules">
                <div class="solana-price">
                    <span class="price-label">‚óé</span>
                    <span class="price-value" id="solanaPrice">$0.00</span>
                </div>
                <div class="rules-icons">
                    <span>üîä</span>
                    <span>‚ùì</span>
                    <span>‚öñÔ∏è</span>
                </div>
            </div>
        </div>

        <!-- Game Panel -->
        <div class="game-panel">
            <div class="race-info">
                <div>
                    <h2 style="font-size: 24px; margin-bottom: 5px;">Race #<span id="raceNumber">1</span></h2>
                    <span style="color: #9ca3af;">Next race in: <span id="nextRaceTime">60s</span></span>
                </div>
                <div class="race-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalPot">0 SOL</div>
                        <div class="stat-label">Total Pot</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalBets">0</div>
                        <div class="stat-label">Total Bets</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="myBets">0 SOL</div>
                        <div class="stat-label">My Bets</div>
                    </div>
                </div>
            </div>

            <div class="race-track-container">
                <canvas id="raceCanvas"></canvas>
                <div class="race-overlay" id="raceOverlay">
                    <div class="countdown-display" id="countdown">60</div>
                </div>
            </div>
        </div>

        <!-- Betting Panel -->
        <div class="betting-panel">
            <div class="panel-header">
                <h2>Place Your Bets</h2>
            </div>
            
            <!-- Character Selection -->
            <div class="character-selection">
                <div class="selected-character" id="selectedCharacter">
                    <h3 id="selectedCharacterName">Select a Character</h3>
                </div>
                <div class="character-grid" id="characterGrid"></div>
            </div>
            
            <!-- Betting Options -->
            <div class="betting-options">
                <div class="quick-bets">
                    <h4>Quick Bets</h4>
                    <div class="quick-bet-buttons">
                        <button class="quick-bet-btn" data-amount="1">1 SOL</button>
                        <button class="quick-bet-btn" data-amount="3">3 SOL</button>
                        <button class="quick-bet-btn" data-amount="5">5 SOL</button>
                        <input type="number" id="customBetAmount" placeholder="_ SOL" min="0.1" step="0.1">
                    </div>
                    <button class="place-bet-btn" id="placeBetBtn">Place Bet - 0.0 SOL</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Socket.IO Client -->
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    
    <!-- Privy SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@privy-io/react-auth@1.8.0/dist/index.umd.js"></script>
    
    <!-- Configuration -->
    <script>
      window.CONFIG = {
        WS_URL: 'https://racers-production.up.railway.app',
        API_URL: 'https://racers-production.up.railway.app/api',
        RACE_DURATION: 12000,
        COUNTDOWN_DURATION: 10000,
        TICK_RATE: 100
      };
    </script>

    <!-- Main Application Script -->
    <script src="script.js"></script>
</body>
</html>
